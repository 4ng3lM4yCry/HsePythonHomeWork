# HsePythonHomeWork
ДЗ 1 Задание 1

Пользовтаель вводит слово

Происходит рассчет длины введенного слова

Если длина 0, выводиться сообщение "Вы ничего не ввели!"

Если при делении на 2 остается остаток, то слово нечетное и мы выводим его среднюю букву

Если при делении на 2 остатка нет, то слово четное и выводятся две центральные буквы

ДЗ 1 Задание 2

Есть два списка

Сверяем длину списоков, если списки не равны, выводится сообщение "Внимание, кто-то может остаться без пары!"

Если списки равны, то оба списка сортируются по алфавиту и производиться вывод сообщения "Идеальные пары:" и имен людей, при котором сопоставляются идентичные индексы списков 0 с 0, 1 с 1 и т.д.

ДЗ 2 Задание 1

Функция sum_distance принимает на вход два числа, сравнивает их и определяет границы суммирования, после чего суммирует числа в промежутке заданной границы

Просим пользователя ввести два числа, вызываем функцию и присваиваем переменной result результат ее выполнения, выводим сумму чисел

ДЗ 2 Задание 2

Функция trim_and_repeat принимает на вход, слово и два числа (первое - кол-во символов для среза слева, второе - кол-во повторений строки в выводе)

Просим пользователя ввести слово и два числа, если пользователь не ввел числа, присваиваем значения по умолчанию

Вызываем функцию, присваиваем ее результат переменной result, выводим его пользователю

ДЗ 3 Задание 1

Открываем файл purchase_log.txt, пропускаем первую строку-заголовок

Каждую следующую строку: очищаем, парсим как JSON, достаём user_id и category, записываемв словарь purchases[user_id] = category

В конце для проверки выводим в консоль две первые пары user_id category из словаря

ДЗ 3 Задание 2

Читаем purchase_log.txt построчно, каждая строка - JSON, из каждой берётся user_id и category, и складывается в словарь

Открываем visit_log.csv построчно и создаём файл funnel.csv для записи

Берём заголовок из visit_log.csv, добавляем к нему столбец category и записываем в funnel.csv

Для каждой строки визита: берём user_id, ищет его в словаре покупок, если для этого user_id есть покупка, дописываем к строке категорию и записываем её в funnel.csv

ChatGPT сказал:

ДЗ 4 Задание 1

Задаём три строки с датами из условия (как в газетах).

Для каждой строки вызываем datetime.strptime с нужным форматом, чтобы превратить текст в объект даты datetime.

Форматы отличаются: где-то месяц словом, где-то дата через точки, где-то двухзначный год — под это подбираем шаблон (%A, %B %d, %Y, %A, %d.%m.%y, %A, %d %B %Y).

В конце просто печатаем получившиеся объекты datetime, чтобы увидеть, что даты разобрались правильно.

ДЗ 4 Задание 2

Определяем функцию date_range(start_date, end_date), которая должна вернуть список дат между началом и концом включительно.

Пробуем распарсить обе строки дат в формат ГГГГ-ММ-ДД через datetime.strptime; если формат неверный или дата не существует — возвращаем пустой список.

Если начальная дата больше конечной — тоже возвращаем пустой список.

Иначе в цикле от start до end с шагом один день (timedelta(days=1)) добавляем каждую дату в список в виде строки YYYY-MM-DD.

Через input() запрашиваем у пользователя дату начала и дату конца в формате ГГГГ-ММ-ДД.

Передаём эти строки в date_range(...) и печатаем результат — либо список дат, либо пустой список, если что-то ввели неправильно.

ДЗ 5

1. OperationRecord

dataclass-структура одной операции в истории: 

- тип (deposit/withdraw), сумма, время, баланс после операции

- статус (success/fail), причина отказа

- credit_used (для кредитного счёта True/False, для обычного — None)

2. Account (обычный счёт)

В __init__: проверяю владельца, перевожу balance в число, запрещаю стартовый минус.

Лимиты: MAX_BALANCE и MAX_AMOUNT — защита от больших значений.

_to_float(): безопасно преобразует в число и даёт ошибку.

_validate_amount_positive(): единая проверка суммы (число, >0, не превышает лимит).

_set_balance(): правильный способ менять баланс (с проверкой лимитов).

deposit(): пытается пополнить, если ошибка — логирует fail, если ок — меняет баланс и логирует success.

withdraw(): снимает только если хватает денег (в минус нельзя), всегда логирует.

get_history(as_dict=True): отдаёт историю либо как список словарей, либо как список OperationRecord.

3. CreditAccount (кредитный счёт)

Наследуется от Account, но добавляет:

credit_limit (лимит кредита)

_set_balance_with_credit() — установка баланса с правилом: баланс не ниже -credit_limit

get_available_credit() — сколько можно потратить: balance + credit_limit

withdraw() — можно уходить в минус до лимита, credit_used = (new_balance < 0)

deposit() — пополнение, credit_used=False (пополнение кредит не использует, оно гасит долг)

4) Мини-тесты

В конце файла функции test_*: проверяют граничные случаи (минусовой старт, превышение лимита, мусорный ввод и т.д.). В __main__ они запускаются и печатают OK: tests passed.
